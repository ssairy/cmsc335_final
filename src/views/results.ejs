<section class="card">
  <h1>Results for "<%= query %>"</h1>

  <% if (error) { %>
  <p class="error"><%= error %></p>
  <% } else if (!results.length) { %>
  <p class="muted">No matches yet. Try another search.</p>
  <% } else { %>
  <ul class="book-list">
    <% results.forEach((book) => { %>
    <li class="book">
      <div>
        <h3><%= book.title %></h3>
        <% if (book.author) { %>
        <p class="muted"><%= book.author %></p>
        <% } %>
        <% if (book.year) { %>
        <p class="muted">First published: <%= book.year %></p>
        <% } %>
      </div>
      <form method="POST" action="/api/saved" class="inline-form">
        <input type="hidden" name="workId" value="<%= book.workId %>" />
        <input type="hidden" name="title" value="<%= book.title %>" />
        <input type="hidden" name="author" value="<%= book.author %>" />
        <% if (book.coverId) { %>
        <input type="hidden" name="coverId" value="<%= book.coverId %>" />
        <% } %>
        <% if (book.year) { %>
        <input type="hidden" name="year" value="<%= book.year %>" />
        <% } %>
        <button type="submit">Save</button>
      </form>
    </li>
    <% }) %>
  </ul>
  <% } %>
</section>
